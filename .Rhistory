& sampling_stations$Status == 'Active'), ]$Station.Code
to_match <- c('wq', 'met')
stns <- stations[grep(paste(to_match, collapse = '|'), stations)]
shp_fl <- cbm_spatial
bounding_cbm_1 <- c(-77.393, 39.741, -75.553, 38.277)
bounding_cbm_2 <- c(-121.810978, 36.868218, -121.708667, 36.764050)
lab_dir <- c('L', 'R', 'L', 'L', 'L')
labs <- c('ap', 'cw', 'nm', 'sm', 'vm')
pos <- 'bottomleft'
### plot
res_local_map('elk', stations = stns, bbox = bounding_elk,
lab_loc = lab_dir, scale_pos = pos, shp = shp_fl)
## a multicomponent reserve (show two different bounding boxes)
### set plotting parameters
stations <-
sampling_stations[(sampling_stations$NERR.Site.ID == 'cbm'
& sampling_stations$Status == 'Active'), ]$Station.Code
to_match <- c('wq', 'met')
stns <- stations[grep(paste(to_match, collapse = '|'), stations)]
shp_fl <- cbm_spatial
bounding_cbm_1 <- c(-77.393, 39.741, -75.553, 38.277)
bounding_cbm_2 <- c(-121.810978, 36.868218, -121.708667, 36.764050)
lab_dir <- c('L', 'R', 'L', 'L', 'L')
labs <- c('ap', 'cw', 'nm', 'sm', 'vm')
pos <- 'bottomleft'
### plot
res_local_map('elk', stations = stns, bbox = bounding_cbm_1,
lab_loc = lab_dir, scale_pos = pos, shp = shp_fl)
bounding_cbm_2 <- c(-76.834056, 38.829629, -76.585915, 36.674391)
### plot
res_local_map('elk', stations = stns, bbox = bounding_cbm_2,
lab_loc = lab_dir, scale_pos = pos, shp = shp_fl)
bounding_cbm_2 <- c(-76.862006, 38.811571, -76.596508, 38.642454)
### plot
res_local_map('elk', stations = stns, bbox = bounding_cbm_2,
lab_loc = lab_dir, scale_pos = pos, shp = shp_fl)
?res_national_map
##National map highlighting states with NERRS
nerr_states <- c('01', '02', '06', '10', '12', '13', '15'
, '23', '24', '25', '27', '28', '33', '34', '36', '37', '39'
, '41', '44', '45', '48', '51', '53', '55', '72')
res_national_map(highlight_states = nerr_states)
nerr_states_west <- c('02', '06', '41', '53')
nerrs_codes <- c('pdb', 'sos', 'sfb', 'elk', 'tjr', 'kac')
res_national_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes)
devtools::load_all(".")
res_national_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes)
##National map highlighting states with NERRS
nerr_states <- c('01', '02', '06', '10', '12', '13', '15'
, '23', '24', '25', '27', '28', '33', '34', '36', '37', '39'
, '41', '44', '45', '48', '51', '53', '55', '72')
res_national_map(highlight_states = nerr_states)
?res_sk_map
?res_local_map
?res_sk_map
stations <-
sampling_stations[(sampling_stations$NERR.Site.ID == 'elk'
& sampling_stations$Status == 'Active'), ]$Station.Code
to_match <- c('wq')
stns <- stations[grep(paste(to_match, collapse = '|'), stations)]
shp_fl <- elk_spatial
bounding_elk <- c(-121.810978, 36.868218, -121.708667, 36.764050)
pos <- 'bottomleft'
sk_res <- c('inc', 'dec', 'dec', 'insig')
### plot
res_sk_map('elk', stations = stns, sk_result = sk_res,
bbox = bounding_elk, scale_pos = pos, shp = shp_fl)
## a multicomponent reserve (showing two different bounding boxes)
### set plotting parameters
stations <-
sampling_stations[(sampling_stations$NERR.Site.ID == 'cbm'
& sampling_stations$Status == 'Active'), ]$Station.Code
to_match <- c('wq')
stns <- stations[grep(paste(to_match, collapse = '|'), stations)]
shp_fl <- cbm_spatial
bounding_cbm_1 <- c(-77.393, 39.741, -75.553, 38.277)
bounding_cbm_2 <- c(-76.862006, 38.811571, -76.596508, 38.642454)
pos <- 'bottomleft'
sk_res <- c('inc', 'dec', 'dec', 'insig')
### plot
res_local_map('cbm', stations = stns, sk_result = sk_res, bbox = bounding_cmb_1,
scale_pos = pos, shp = shp_fl)
res_local_map('cbm', stations = stns, sk_result = sk_res, bbox = bounding_cmb_2,
scale_pos = pos, shp = shp_fl)
### plot
res_sk_map('cbm', stations = stns, sk_result = sk_res, bbox = bounding_cmb_1,
scale_pos = pos, shp = shp_fl)
res_sk_map('cbm', stations = stns, sk_result = sk_res, bbox = bounding_cmb_2,
scale_pos = pos, shp = shp_fl)
## a multicomponent reserve (showing two different bounding boxes)
### set plotting parameters
stations <-
sampling_stations[(sampling_stations$NERR.Site.ID == 'cbm'
& sampling_stations$Status == 'Active'), ]$Station.Code
to_match <- c('wq')
stns <- stations[grep(paste(to_match, collapse = '|'), stations)]
shp_fl <- cbm_spatial
bounding_cbm_1 <- c(-77.393, 39.741, -75.553, 38.277)
bounding_cbm_2 <- c(-76.862006, 38.811571, -76.596508, 38.642454)
pos <- 'bottomleft'
sk_res <- c('inc', 'dec', 'dec', 'insig')
### plot
res_sk_map('cbm', stations = stns, sk_result = sk_res, bbox = bounding_cmb_1,
scale_pos = pos, shp = shp_fl)
res_sk_map('cbm', stations = stns, sk_result = sk_res, bbox = bounding_cmb_2,
scale_pos = pos, shp = shp_fl)
### plot
res_sk_map('cbm', stations = stns, sk_result = sk_res, bbox = bounding_cbm_1,
scale_pos = pos, shp = shp_fl)
res_sk_map('cbm', stations = stns, sk_result = sk_res, bbox = bounding_cbm_2,
scale_pos = pos, shp = shp_fl)
stns
res_sk_map('cbm', stations = stns, sk_result = sk_res, bbox = bounding_cbm_1,
scale_pos = pos, shp = shp_fl)
?seasonal_barplot
data(apaebmet)
save(apaebmet, file = 'data/apaebmet.rda')
save(apaebmet, file = 'data/apaebmet.RData')
?save
save(apaebmet, file = 'data/apaebmet.RData', compress = 'bzip2')
save(apaebmet, file = 'data/apaebmet.rda', compress = 'bzip2')
save(elksmwq, file = 'data/elkswq.rda', compress = 'bzip2')
save(elksmwq, file = 'data/elksmwq.rda', compress = 'bzip2')
data(elksmnut)
save(elksmnut, file = 'data/elksmnut.rda', compress = 'bzip2')
chk <- sampling_stations
View(chk)
data(apaebmet)
dat <- qaqc(apaebmet, qaqc_keep = c('0', '3', '5'))
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, hist_avg = T
, convert = T)
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, plot = F)
x <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, hist_avg = T
, convert = F)
x
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, plot = F)
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, plot = F)
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, plot = F)
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, hist_avg = T
, convert = F)
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, hist_avg = F
, convert = T
, plot = F)
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_facet = T
, hist_avg = T
, convert = F)
x <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, hist_avg = T
, convert = T)
x
dat$totprcp <- dat$totprcp / 25.4
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, hist_avg = T
, convert = T)
dat$totprcp <- dat$totprcp * 25.4
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_facet = T
, hist_avg = T
, convert = F)
devtools::load_all(".")
x <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_facet = T
, hist_avg = T
, convert = F)
x
x <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_facet = T
, hist_avg = F
, convert = F)
x
devtools::load_all(".")
x <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_facet = T
, hist_avg = T
, convert = F)
x
?facet_wrap
devtools::load_all(".")
x <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_facet = T
, hist_avg = T
, convert = F)
x
?seasonal_boxplot
dat <- elksmwq
dat <- qaqc(dat, qaqc_keep = c('0', '3', '5'))
seasonal_boxplot(dat, param = 'do_mgl')
seasonal_boxplot(dat, param = 'do_mgl',
target_yr = 2015,
season = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
season_names = c('Winter', 'Spring', 'Summer', 'Fall'),
season_start = 'Spring')
seasonal_boxplot(dat, param = 'do_mgl',
stat_lab = 'Minimum', FUN = function(x) min(x, na.rm = T))
seasonal_boxplot(dat, param = 'do_mgl',
stat_lab = 'Maximum', FUN = function(x) max(x, na.rm = T))
?seasonal_dot
dat_wq <- elksmwq
dat_wq <- subset(dat_wq, subset = c('2007-01-01 0:00', '2017-01-01 0:00'))
dat_wq <- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))
seasonal_dot(dat_wq, param = 'do_mgl',
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_wq, param = 'do_mgl',
, lm_trend = T
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_wq, param = 'do_mgl',
, lm_trend = T
, lm_lab = T
, plot_title = T)
dat_nut <- elksmnut
dat_nut <- subset(dat_nut, subset = c('2007-01-01 0:00', '2017-01-01 0:00'))
dat_nut <- qaqc(dat_nut, qaqc_keep = c(0, 3, 5))
seasonal_dot(dat_nut, param = 'chla_n',
, lm_trend = F
, lm_lab = F
, plot_title = T)
?assign_season
seasonal_dot(dat_nut, param = 'chla_n',
, season = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall'), season_start = 'Spring')
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_nut, param = 'chla_n'
, season = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall'), season_start = 'Spring')
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_nut
, param = 'chla_n'
, season = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall'), season_start = 'Spring'))
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall'), season_start = 'Spring')
, lm_trend = F
, lm_lab = F
, plot_title = T)
?assign_season
?assign_season
seas <- assign_season(dat$datetimestamp,
season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
season_names = c('Winter', 'Spring', 'Summer', 'Fall'), season_start = 'Spring')
levels(seas)
?seasonal_dot
x <-
seasonal_dot(dat_nut, param = 'chla_n', season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)), season_names = c('Winter', 'Spring', 'Summer', 'Fall'), season_start = 'Spring'), lm_trend = F, lm_lab = F , plot_title = T)
seasonal_dot(dat_nut,
param = 'chla_n',
season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
season_names = c('Winter', 'Spring', 'Summer', 'Fall'), season_start = 'Spring', lm_trend = F, lm_lab = F , plot_title = T)
devtools::load_all(".")
devtools::load_all(".")
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_nut
, param = 'chla_n'
# , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
# , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
?assign_season
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_nut
, param = 'chla_n'
# , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
# , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
devtools::load_all(".")
seasonal_dot(dat_nut
, param = 'chla_n'
# , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
# , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
devtools::load_all(".")
seasonal_dot(dat_nut
, param = 'chla_n'
# , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
# , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
devtools::load_all(".")
devtools::load_all(".")
seasonal_dot(dat_nut
, param = 'chla_n'
# , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
# , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
# , season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
chk <- elksmnut
?assign_season
chk$season <- assign_season(chk$datetimestamp, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
season_names = c('Winter', 'Spring', 'Summer', 'Fall'))
View(chk)
chk <- elksmnut
chk <- qaqc(chk, qaqc_keep = c(0, 3, 5))
chk$season <- assign_season(chk$datetimestamp, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
season_names = c('Winter', 'Spring', 'Summer', 'Fall'))
chk %>%
group_by(season) %>%
summarise(min = min('chla_n', na.rm = T)
, mean = mean('chla_n', na.rm = T)
, max = max('chla_n', na.rm = T))
library(dplyr)
chk %>%
group_by(season) %>%
summarise(min = min('chla_n', na.rm = T)
, mean = mean('chla_n', na.rm = T)
, max = max('chla_n', na.rm = T))
chk %>%
group_by(season) %>%
summarise(min = min(chla_n, na.rm = T)
, mean = mean(chla_n, na.rm = T)
, max = max(chla_n, na.rm = T))
library(lubridate)
chk %>%
group_by(month(datetimestamp)) %>%
summarise(min = min(chla_n, na.rm = T)
, mean = mean(chla_n, na.rm = T)
, max = max(chla_n, na.rm = T))
devtools::load_all(".")
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
# , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
devtools::load_all(".")
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
# , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
devtools::load_all(".")
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
devtools::load_all(".")
seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
x <- seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
names(x)
'season_names' %in% names(x)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
x <- seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
x
x <- seasonal_dot(dat_nut
, param = 'chla_n'
, lm_trend = F
, lm_lab = F
, plot_title = T)
x
devtools::load_all(".")
x <- seasonal_dot(dat_nut
, param = 'chla_n'
, lm_trend = F
, lm_lab = F
, plot_title = T)
x
devtools::load_all(".")
x <- seasonal_dot(dat_nut
, param = 'chla_n'
, lm_trend = F
, lm_lab = F
, plot_title = T)
x <- seasonal_dot(dat_nut
, param = 'chla_n'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, season_start = 'Spring'
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_nut, param = 'chla_n',
, lm_trend = T
, lm_lab = F
, plot_title = T)
seasonal_dot(dat_nut, param = 'chla_n',
, lm_trend = T
, lm_lab = T
, plot_title = T)
