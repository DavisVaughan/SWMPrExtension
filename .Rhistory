dat %>% group_by(year(datetimestamp)) %>% summarise(prcp = sum(totprcp, na.rm = T))
library(lubridate)
dat %>% group_by(year(datetimestamp)) %>% summarise(prcp = sum(totprcp, na.rm = T))
devtools::load_all(".")
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
y
devtools::load_all(".")
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
y
devtools::load_all(".")
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
devtools::load_all(".")
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
y
levels(y$season)
devtools::load_all(".")
devtools::load_all(".")
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
y
devtools::load_all(".")
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
y
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
y
?geom_hline
devtools::load_all(".")
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
y
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
y
devtools::load_all(".")
y <- seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
y
devtools::document()
?seq
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
dat$totprcp <- dat$totprcp * 25.4
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
max(dat$totprcp)
max(dat$totprcp, na.rm = T)
dat %>% group_by(year(datetimestamp)) %>% summarise(tot = sum(totprcp))
dat %>% group_by(year(datetimestamp)) %>% summarise(tot = sum(totprcp, na.rm = T))
devtools::load_all(".")
dat %>% group_by(year(datetimestamp)) %>% summarise(tot = sum(totprcp, na.rm = T))
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = F
, hist_avg = T
, season_facet = T)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = F
, hist_avg = T
, season_facet = T)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = F
, hist_avg = T
, season_facet = T)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = F
, hist_avg = T
, season_facet = T)
devtools::load_all(".")
mx <- ceiling(max(yr_mx$max_val) / 10) * 10 * 1.1
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = F
, hist_avg = T
, season_facet = T)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = F
, hist_avg = T
, season_facet = T)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = F
, hist_avg = T
, season_facet = T)
?colorRampPalette
colorRampPalette(9, 'Blues')(10)
cols <- colorRampPalette(brewer.pal(9, 'Blues'))
library(RColorBrewer)
library(RColorBrewer)
cols <- colorRampPalette(brewer.pal(9, 'Blues'))
cols(22)
cols(4)
cols(4) %>% rev
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = T)
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
cols <- cols(length(unique(dat_hist$season)) + 1)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
seasonal_barplot(dat, param = 'totprcp'
, convert = T
, hist_avg = T
, season_facet = F)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, convert = T
, hist_avg = T
, season_facet = F)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, convert = T
, hist_avg = T
, season_facet = F)
devtools::load_all(".")
?colorRampPalette
?grDevices
devtools::document()
devtools::document()
devtools::load_all(".")
?brewer.pal
devtools::load_all(".")
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
devtools::load_all(".")
seasonal_barplot(dat, param = 'totprcp'
, season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
, season_names = c('Winter', 'Spring', 'Summer', 'Fall')
, convert = T
, hist_avg = T
, season_facet = F)
?threshold_identification
?historical_daily_range
data(apacpwq)
dat <- apacpwq
dat <- qaqc(apacpwq, qaqc_keep = c('0', '3', '5'))
y <- historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2, abb = T)
y
?threshold_identification
?threshold_identification
devtools::load_all(".")
?threshold_identification
?annual_range
?threshold_identification
devtools::load_all(".")
?threshold_identification
devtools::load_all(".")
?threshold_identification
?annual_range
?threshold_identification
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
vec <- c('inc', 'dec', 'insig', 'insuff')
get_shapes <- function(x) {
x <- gsub('inc', 24, x)
x <- gsub('dec', 25, x)
x <- gsub('insig', 21, x)
x <- gsub('insuff', 4, x)
}
get_shapes(vec)
get_shapes <- function(x) {
x <- gsub('inc', 24, x)
x <- gsub('dec', 25, x)
x <- gsub('insig', 21, x)
x <- gsub('insuff', 4, x)
return(x)
}
get_shapes(vec)
x <- as.numeric(x)
get_shapes <- function(x) {
x <- gsub('inc', 24, x)
x <- gsub('dec', 25, x)
x <- gsub('insig', 21, x)
x <- gsub('insuff', 4, x)
x <- as.numeric(x)
return(x)
}
get_shapes(vec)
devtools::load_all(".")
nerr_states_west <- c('02', '06', '41', '53')
nerrs_codes <- c('pdb', 'sos', 'sfb', 'elk', 'tjr')
nerrs_sk_results <- c('inc', 'inc', 'dec', 'insig', 'insuff')
national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
View(res)
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
View(res)
devtools::load_all(".")
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
?aes_string
?sprintf
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
devtools::load_all(".")
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
levels(factor(nerrs_sk_results)['inc', 'dec', 'insig', 'insuff'])
levels(factor(nerrs_sk_results))
levels(factor(nerrs_sk_results))['inc', 'dec', 'insig', 'insuff'])
levels(factor(nerrs_sk_results))['inc', 'dec', 'insig', 'insuff']
levels(factor(nerrs_sk_results)['inc', 'dec', 'insig', 'insuff'])
factor(nerrs_sk_results, levels = c('inc', 'dec', 'insig', 'insuff'))
nerrs_sk_results_2 <- c('inc', 'inc', 'dec', 'insig')
factor(nerrs_sk_results_2, levels = c('inc', 'dec', 'insig', 'insuff'))
devtools::load_all(".")
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
?guides
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
devtools::load_all(".")
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
plot(1:10, pch = 3, lwd = 4)
plot(1:10, pch = 3, lwd = 2)
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
devtools::load_all(".")
res
devtools::load_all(".")
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res <- national_sk_map(highlight_states = nerr_states_west, sk_reserve = nerrs_codes, sk_results = nerrs_sk_results)
nerr_states_west <- c('02', '06', '41', '53')
nerrs_codes <- c('pdb', 'sos', 'sfb', 'elk', 'tjr')
nerrs_sk_results <- c('inc', 'inc', 'dec', 'insig', 'insuff')
nerrs_sk_results_2 <- c('inc', 'inc', 'dec', 'insig')
res <- national_sk_map(highlight_states = nerr_states_west, sk_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, sk_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, sk_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, sk_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
res <- national_sk_map(highlight_states = nerr_states_west, sk_reserve = nerrs_codes, sk_results = nerrs_sk_results)
res
devtools::load_all(".")
devtools::load_all()
?annual_range
devtools::build_win()
?sk_tidy
devtools::load_all(".")
?sk_tidy
?sk_seasonal
?sk_trend
?sk_seasonal
dat_wq <- elksmwq
dat_wq <- subset(dat_wq, subset = c('2007-01-01 0:00', '2017-01-01 0:00'))
dat_wq <- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))
library(SWMPr)
dat_wq <- elksmwq
dat_wq <- subset(dat_wq, subset = c('2007-01-01 0:00', '2017-01-01 0:00'))
dat_wq <- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))
sk_seasonal(dat_wq, param = 'temp')
devtools::load_all(".")
sk_seasonal(dat_wq, param = 'temp')
devtools::load_all(".")
x <- sk_seasonal(dat_wq, param = 'temp')
x
devtools::load_all(".")
x <- sk_seasonal(dat_wq, param = 'temp')
View(x)
View(x)
library(EnvStats)
?kendallSeasonalTrendTest
dat_wq2 <- elksmwq
dat_wq2 <- subset(dat_wq2, subset = c('2007-01-01 0:00', '2017-01-01 0:00'))
dat_wq2 <- qaqc(dat_wq2, qaqc_keep = c(0, 3, 5))
dat_wq2$season <- assign_season(dat_wq2$datetimestamp)
sk_data <- dat %>%
group_by(year, season) %>%
summarise(result = mean(temp, na.rm = T))
library(lubridate)
library(dplyr)
library(EnvStats)
dat_wq2$year <- year(dat_wq2$datetimestamp)
sk_data <- dat %>%
group_by(year, season) %>%
summarise(result = mean(temp, na.rm = T))
sk_data <- dat_wq2 %>%
group_by(year, season) %>%
summarise(result = mean(temp, na.rm = T))
kendallSeasonalTrendTest(result ~ season + year, data = sk_data)
x <- kendallSeasonalTrendTest(result ~ season + year, data = sk_data)
x
class(x)
devtools::load_all(".")
x <- sk_seasonal(dat_wq, param = 'temp')
y <- kendallSeasonalTrendTest(result ~ season + year, data = sk_data)
all.equal(x, y)
sk_tidy(y)
?sk_tidy
sk_tidy(y, param = 'temp', station = 'elksmwq', stat = 'average', pval = 0.05)
devtools::load_all(".")
z <- sk_tidy(y, param = 'temp', station = 'elksmwq', stat = 'average', pval = 0.05)
View(z)
z
x[7]
z[7]
devtools::load_all(".")
devtools::load_all(".")
z <- sk_tidy(y, param = 'temp', station = 'elksmwq', stat = 'average', alpha = 0.05)
z
devtools::load_all(".")
z <- sk_tidy(y, param = 'temp', station = 'elksmwq', stat = 'average', alpha = 0.05)
z
devtools::load_all(".")
z <- sk_tidy(y, param = 'temp', station = 'elksmwq', stat = 'average', alpha = 0.05)
z
devtools::load_all(".")
x <- sk_seasonal(dat_wq, param = 'temp')
x
x <- sk_seasonal(dat_wq, param = 'temp')
x
?sk_seasonal
devtools::load_all(".")
x <- sk_seasonal(dat_wq, param = 'temp')
x
packrat::snapshot()
?snapshot
packrat::snapshot(ignore.stale = T)
