seasonal_boxplot(dat, param = 'atemp')
devtools::load_all(".")
seasonal_boxplot(dat, param = 'atemp')
devtools::load_all(".")
seasonal_boxplot(dat, param = 'atemp')
devtools::load_all(".")
seasonal_boxplot(dat, param = 'atemp')
devtools::load_all(".")
seasonal_boxplot(dat, param = 'atemp')
dat <- import_local(path = 'tmp', station_code = 'owcowmet')
dat <- qaqc(dat, qaqc_keep = c('0', '3', '5'))
seasonal_boxplot(dat, param = 'atemp')
seasonal_boxplot(dat, param = 'atemp', target_yr = 2015)
threshold_percentile_plot(dat, param = 'atemp'
, hist_rng = c(2007, 2014), by_month = F)
devtools::load_all(".")
threshold_percentile_plot(dat, param = 'atemp'
, hist_rng = c(2007, 2014), by_month = F)
threshold_percentile_plot(dat, param = 'atemp'
, hist_rng = c(2007, 2014), by_month = F)
threshold_percentile_plot(dat, param = 'atemp'
, hist_rng = 2016, by_month = F)
threshold_percentile_plot(dat
, param = 'atemp'
, hist_rng = c(2007, 2016)
, target_yr = 2016
, by_month = F)
x <- dat
x$atemp <- x$atemp * 9 / 5 +32
threshold_percentile_plot(x, param = 'atemp'
, hist_rng = c(2007, 2014), converted = T, by_month = F)
?seasonal_dot
seasonal_dot(dat, param = 'atemp'
, lm_trend = F
, lm_lab = F
, plot_title = T)
seasonal_dot(dat, param = 'atemp'
, lm_trend = T
, lm_lab = T
, plot_title = T)
devtools::load_all(".")
seasonal_dot(dat, param = 'atemp'
, lm_trend = T
, lm_lab = T
, plot_title = T)
devtools::load_all(".")
seasonal_dot(dat, param = 'atemp'
, lm_trend = T
, lm_lab = T
, plot_title = T)
devtools::load_all(".")
x <- seasonal_dot(dat, param = 'atemp'
, lm_trend = T
, lm_lab = T
, plot_title = T)
devtools::load_all(".")
x <- seasonal_dot(dat, param = 'atemp'
, lm_trend = T
, lm_lab = T
, plot_title = T)
x
?threshold_criteria_plot
data(apacpwq)
dat_wq <- apacpwq
devtools::load_all(".")
data(apacpwq)
dat_wq <- apacpwq
dat_wq <- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
devtools::load_all(".")
x <-
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
View(x)
View(x)
min(datetimestamp)
min(x$datetimestamp)
devtools::load_all(".")
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, target_yr = 2013
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, rng = 2013
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
devtools::load_all(".")
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, rng = 2013
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
library(lubridate)
dat_wq$do_mgl <- ifelse(month(dat_wq$datetimestamp) %in% c(1, 2, 3, 4), NA, dat_wq$do_mgl)
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, target_yr = 2013
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, rng = 2013
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
View(x)
View(dat_wq)
dat_wq <- filter(month(dat_wq$datetimestamp) %in% c(1, 2, 3, 4))
library(dplyr)
dat_wq <- filter(month(dat_wq$datetimestamp) %in% c(1, 2, 3, 4))
dat_wq <- dat_wq[month(dat_wq$datetimestamp) %in% c(1:4)), ]
dat_wq <- dat_wq[month(dat_wq$datetimestamp) %in% c(1:4), ]
View(dat_wq)
dat_wq <- apacpwq
dat_wq <- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))
dat_wq <- dat_wq[!(month(dat_wq$datetimestamp) %in% c(1:4)), ]
View(apacpwq)
dat_wq <- dat_wq[, !(month(dat_wq$datetimestamp) %in% c(1:4))]
dat_wq <- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))
dat_wq <- apacpwq
dat_wq <- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))
dat_wq2 <- dat_wq %>% filter(month(datetimestamp) %in% c(1:4))
threshold_criteria_plot(dat_wq2, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, rng = 2013
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
dat_wq2 <- dat_wq[!(month(dat_wq$datetimestamp) %in% c(1:4)), ]
threshold_criteria_plot(dat_wq2, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, rng = 2013
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
month(min(dat_wq2$datetimestamp))
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
threshold_criteria_plot()
?threshold_criteria_plot
data(apacpnut)
dat_nut <- apacpnut
dat_nut <- qaqc(dat_nut, qaqc_keep = c(0, 3, 5))
dat_nut <- rem_reps(dat_nut)
dat_nut$dip <- dat_nut$po4f
attr(dat_nut, 'parameters') <- c(attr(dat_nut, 'parameters'), 'dip')
threshold_criteria_plot(dat_nut, param = 'dip'
, thresholds = c(2, 5)
, threshold_labs = c('Good', 'Fair', 'Poor'))
ggsave(x, 'tmp.png', height = 4, width = 6, units = 'in', res = 300)
ggsave('tmp.png', x, height = 4, width = 6, units = 'in', res = 300)
?ggsave
ggsave('tmp.png', x, height = 4, width = 6, units = 'in', dpi = 300)
x <-
threshold_criteria_plot(dat_nut, param = 'dip'
, thresholds = c(2, 5)
, threshold_labs = c('Good', 'Fair', 'Poor'))
ggsave(filename = 'tmp.png', x, height = 4, width = 6, units = 'in', dpi = 300)
x <-
threshold_criteria_plot(dat_nut, param = 'dip'
, thresholds = c(2, 5)
, threshold_labs = c('Good', 'Fair', 'Poor')
, plot_title = T)
ggsave(filename = 'tmp.png', x, height = 4, width = 6, units = 'in', dpi = 300)
devtools::load_all(".")
x <-
threshold_criteria_plot(dat_nut, param = 'dip'
, thresholds = c(2, 5)
, threshold_labs = c('Good', 'Fair', 'Poor')
, plot_title = T)
ggsave(filename = 'tmp2.png', x, height = 4, width = 6, units = 'in', dpi = 300)
devtools::load_all(".")
x <-
threshold_criteria_plot(dat_nut, param = 'dip'
, thresholds = c(2, 5)
, threshold_labs = c('Good', 'Fair', 'Poor')
, plot_title = T)
ggsave(filename = 'tmp2.png', x, height = 4, width = 6, units = 'in', dpi = 300)
theme_bw()$plot.margin
devtools::load_all(".")
devtools::load_all(".")
x <-
threshold_criteria_plot(dat_nut, param = 'dip'
, thresholds = c(2, 5)
, threshold_labs = c('Good', 'Fair', 'Poor')
, plot_title = T)
ggsave(filename = 'tmp2.png', x, height = 4, width = 6, units = 'in', dpi = 300)
devtools::load_all(".")
x <-
threshold_criteria_plot(dat_nut, param = 'dip'
, thresholds = c(2, 5)
, threshold_labs = c('Good', 'Fair', 'Poor')
, plot_title = T)
ggsave(filename = 'tmp2.png', x, height = 4, width = 6, units = 'in', dpi = 300)
devtools::load_all(".")
devtools::load_all(".")
?historical_daily_range
devtools::load_all(".")
?historical_daily_range
data(apacpwq)
dat <- apacpwq
dat <- qaqc(apacpwq, qaqc_keep = c('0', '3', '5'))
historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
devtools::load_all(".")
historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
?threshold_percentile_plot
dat_wq <- qaqc(elksmwq, qaqc_keep = c(0, 3, 5))
dat_wq <- subset(dat_wq, subset = '2007-01-01 0:00', operator = '>=')
threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
View(dat_wq)
devtools::load_all(".")
threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
devtools::load_all(".")
x <- threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
View(x)
min(x[ , 2], na.rm = T)
devtools::load_all(".")
x <- threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
devtools::load_all(".")
x <- threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
devtools::load_all(".")
devtools::load_all(".")
x <- threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
pretty(-0.89)
pretty(5.2)
devtools::load_all(".")
threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
devtools::load_all(".")
threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
devtools::load_all(".")
threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
historical_daily_range(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
View(dat_wq)
historical_daily_range(dat_wq, param = 'do_mgl'
, hist_rng = c(2007, 2014), by_month = F)
devtools::load_all(".")
x <- historical_daily_range(dat_wq, param = 'do_mgl'
, hist_rng = c(2007, 2014), by_month = F)
devtools::load_all(".")
?historical_daily_range
devtools::load_all(".")
# with criteria
y <- historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
devtools::load_all(".")
# with criteria
y <- historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
y
# with criteria
y <- historical_daily_range(dat, param = 'level', target_yr = 2013, criteria = 2)
y
devtools::load_all(".")
# with criteria
y <- historical_daily_range(dat, param = 'level', target_yr = 2013, criteria = 2)
devtools::load_all(".")
# with criteria
y <- historical_daily_range(dat, param = 'level', target_yr = 2013)
View(dat)
dat_wq <- qaqc(elksmwq, qaqc_keep = c(0, 3, 5))
dat_wq <- subset(dat_wq, subset = '2007-01-01 0:00', operator = '>=')
devtools::load_all(".")
dat_wq <- qaqc(elksmwq, qaqc_keep = c(0, 3, 5))
dat_wq <- subset(dat_wq, subset = '2007-01-01 0:00', operator = '>=')
historical_daily_range(dat, param = 'level', target_yr = 2013)
View(dat)
dat_wq <- qaqc(apacpwq, qaqc_keep = c(0, 3, 5))
dat_wq <- subset(dat_wq, subset = '2007-01-01 0:00', operator = '>=')
View(dat_wq)
sum(dat_wq$level, na.rm = T)
dat_wq <- qaqc(elksmwq, qaqc_keep = c(0, 3, 5))
dat_wq <- subset(dat_wq, subset = '2007-01-01 0:00', operator = '>=')
View(dat_wq)
View(dat_wq)
dat_wq <- qaqc(elksmwq, qaqc_keep = c(0, 3, 5))
dat_wq <- subset(dat_wq, subset = '2007-01-01 0:00', operator = '>=')
historical_daily_range(dat, param = 'level', target_yr = 2013)
devtools::load_all(".")
y <-
historical_daily_range(dat, param = 'level', target_yr = 2013)
x <- dat_wq[ , c('datetimestamp', 'level')]
View(x)
x <- x[complete.cases(x), ]
devtools::load_all(".")
historical_daily_range(dat_wq, param = 'level', target_yr = 2013)
devtools::load_all(".")
historical_daily_range(dat_wq, param = 'level', target_yr = 2013)
threshold_percentile_plot(dat_wq, param = 'level'
, hist_rng = c(2007, 2014), by_month = F)
devtools::document()
loc <- get('sampling_stations')
librayr(SWMPrExtension)
library(SWMPrExtension)
loc <- get('sampling_stations')
stns <- c('apacpnut', 'apacpwq', 'apadbnut', 'apadbwq', 'apaebmet',
'apaebnut', 'apaebwq', 'apaesnut', 'apaeswq')
nerr_site_id <- loc
(nerr_site_id %in% loc$Station.Code)
nerr_site_id
nerr_site_id
nerr_site_id <- loc
nerr_site_id <- stns
(nerr_site_id %in% loc$Station.Code)
loc <- get('sampling_stations')
loc <- loc[(loc$Station.Code %in% nerr_site_id), ]
loc$abbrev <- substr(loc$Station.Code, start = 1, stop = 5)
loc <- unique(loc[, c('abbrev', 'Longitude', 'Latitude'), ])
View(loc)
loc <- get('sampling_stations')
loc <- loc[(loc$Station.Code %in% nerr_site_id), ]
loc$abbrev <- substr(loc$Station.Code, start = 1, stop = 5)
View(loc)
?duplicated
loc <- loc[!duplicated(loc[ , c('abbrev', 'Longitude', 'Latitude')]#unique(loc[, c('abbrev', 'Longitude', 'Latitude'), ])
loc <- loc[order(loc$abbrev), ]
loc <- loc[[1]]
return(loc)
}
loc <- loc[!duplicated(loc[ , c('abbrev', 'Longitude', 'Latitude')], ]#unique(loc[, c('abbrev', 'Longitude', 'Latitude'), ])
loc <- loc[order(loc$abbrev), ]
loc <- loc[[1]]
return(loc)
}
loc <- loc[!duplicated(loc[ , c('abbrev', 'Longitude', 'Latitude')]),]#unique(loc[, c('abbrev', 'Longitude', 'Latitude'), ])
loc <- get('sampling_stations')
loc <- loc[(loc$Station.Code %in% nerr_site_id), ]
loc$abbrev <- substr(loc$Station.Code, start = 1, stop = 5)
loc <- loc[!duplicated(loc[ , c('abbrev', 'Longitude', 'Latitude')]),]#unique(loc[, c('abbrev', 'Longitude', 'Latitude'), ])
loc <- loc[order(loc$Station.Code), ]
loc <- loc[[1]]
loc <- loc[!duplicated(loc[ , c('abbrev', 'Longitude', 'Latitude')]),]#unique(loc[, c('abbrev', 'Longitude', 'Latitude'), ])
loc <- get('sampling_stations')
# generate location labels
loc <- loc[(loc$Station.Code %in% nerr_site_id), ]
loc$abbrev <- substr(loc$Station.Code, start = 1, stop = 5)
loc <- loc[!duplicated(loc[ , c('abbrev', 'Longitude', 'Latitude')]),]#unique(loc[, c('abbrev', 'Longitude', 'Latitude'), ])
View(loc)
loc <- loc[sort(loc$Station.Code), ]
View(loc)
loc <- get('sampling_stations')
# generate location labels
loc <- loc[(loc$Station.Code %in% nerr_site_id), ]
loc$abbrev <- substr(loc$Station.Code, start = 1, stop = 5)
loc <- loc[!duplicated(loc[ , c('abbrev', 'Longitude', 'Latitude')]),]#unique(loc[, c('abbrev', 'Longitude', 'Latitude'), ])
View(loc)
sort(loc$Station.Code)
tmp <- sort(loc$Station.Code)
devtools::load_all(".")
?add_header
?merge_h
df <- read.csv(file = 'sk_result_to_test.csv')
View(df)
?read.csv
df <- read.csv(file = 'sk_result_to_test.csv', encoding = 'UTF-8')
create_sk_national_ft_results(df, param = 'po4f')
devtools::load_all(".")
create_sk_national_ft_results(df, param = 'po4f')
devtools::load_all(".")
create_sk_national_ft_results(df, param = 'po4f')
df <- read.csv(file = 'sk_result_to_test.csv')
create_sk_national_ft_results(df, param = 'po4f')
?bind_rows
?gsub
res_reg <- read.csv(file = 'res_region_data.csv', stringsAsFactors = F)
summarise_handoff_files(path = 'handoff_files', param = 'do_mgl', res_region = res_reg)
library(SWMPrExtension)
summarise_handoff_files(path = 'handoff_files', param = 'do_mgl', res_region = res_reg)
devtools::load_all(".")
summarise_handoff_files(path = 'handoff_files', param = 'do_mgl', res_region = res_reg)
x <-
summarise_handoff_files(path = 'handoff_files', param = 'do_mgl', res_region = res_reg)
View(x)
x <-
summarise_handoff_files(path = 'handoff_files', param = 'do_mgl', res_region = res_reg)
View(x)
res_reg <- read.csv(file = 'res_region_data.csv', stringsAsFactors = F)
x <-
summarise_handoff_files(path = 'handoff_files', param = 'do_mgl', res_region = res_reg)
devtools::load_all(".")
devtools::load_all(".")
x <-
summarise_handoff_files(path = 'handoff_files', param = 'do_mgl', res_region = res_reg)
View(x)
devtools::load_all(".")
data(elksmwq)
View(elksmwq)
data(elknmnut)
View(elknmnut)
elksmwq <-
import_local('C:/Users/Julie/Desktop/tmp', 'elksmwq')
library(SWMPr)
elksmwq <-
import_local('C:/Users/Julie/Desktop/tmp', 'elksmwq')
swmpr
install.packages('SWMPr')
snapshot()
packrat::snapshot()
library(SWMPr)
elksmwq <-
import_local('C:/Users/Julie/Desktop/tmp', 'elksmwq')
elknmwq <-
import_local('C:/Users/Julie/Desktop/tmp', 'elknmnut')
?saveRDS
saveRDS(elksmwq, file = 'data/elksmwq.rda', compress = 'bzip2')
saveRDS(elknmnut, file = 'data/elknmnut.rda', compress = 'bzip2')
elknmnut <-
import_local('C:/Users/Julie/Desktop/tmp', 'elknmnut')
saveRDS(elknmnut, file = 'data/elknmnut.rda', compress = 'bzip2')
saveRDS(elksmwq, file = 'data/elksmwq.rda', compress = 'xz')
saveRDS(elknmnut, file = 'data/elknmnut.rda', compress = 'xz')
getwd()
elksmwq <-
import_local('C:/Users/Julie/Desktop/tmp', 'elksmwq')
elknmnut <-
import_local('C:/Users/Julie/Desktop/tmp', 'elknmnut')
library(SWMPr)
elksmwq <-
import_local('C:/Users/Julie/Desktop/tmp', 'elksmwq')
elknmnut <-
import_local('C:/Users/Julie/Desktop/tmp', 'elknmnut')
?use_data
?devtools::use_data
devtools::use_data(elksmwq)
devtools::use_data(elksmwq, overwrite = T)
devtools::use_data(elknmnut, overwrite = T)
devtools::load_all(".")
?historical_daily_range
data(apacpwq)
dat <- apacpwq
dat <- qaqc(apacpwq, qaqc_keep = c('0', '3', '5'))
historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
devtools::load_all(".")
historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
devtools::load_all(".")
historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
devtools::load_all(".")
historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
devtools::load_all(".")
x <- historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
devtools::load_all(".")
devtools::load_all(".")
x <- historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)
?lm
?lm_p_labs
devtools::load_all(".")
devtools::load_all(".")
?threshold_criteria_plot
x <-
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
data(apacpwq)
dat_wq <- apacpwq
dat_wq <- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))
x <-
threshold_criteria_plot(dat_wq, param = 'do_mgl'
, thresholds = c(2, 5)
, threshold_labs = c('Poor', 'Fair', 'Good')
, monthly_smooth = T
, threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))
View(x)
xy <- dat_wq %>% filter(month(datetimestamp) == 2)
library(dplyr)
xy <- dat_wq %>% filter(month(datetimestamp) == 2)
library(dplyr); library(lubridate)
xy <- dat_wq %>% filter(month(datetimestamp) == 2)
View(xy)
devtools::load_all(".")
?y_labeler
devtools::build()
devtools::build_win()
devtools::release()
devtools:;release()
devtools::release()
devtools::release()
devtools::release()
x <- data('elksmwq')
y <- data('elknmnut')
data('elksmwq')
data('elknmnut')
View(elknmnut)
?geographic_unique_stations
