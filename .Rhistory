devtools::load_all(".")
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013)
x
y <-
historical_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013)
, target_yr = 2013, abb = T, criteria = 2)
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
x
devtools::load_all(".")
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
x
devtools::load_all(".")
devtools::load_all(".")
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
x
devtools::load_all(".")
devtools::load_all(".")
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
x
devtools::load_all(".")
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
x
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013)
x
devtools::load_all(".")
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013)
x
rng <- c(2004, 2015)
rng_chk <- c(min(lubridate::year(dat$datetimestamp)), max(lubridate::year(dat$datetimestamp)))
rng %in% seq(rng_chk)
rng <- c(2012, 2015)
rng %in% seq(rng_chk)
rng <- c(2012, 2015)
rng %in% seq(rng_chk)
rng <- c(2012.2, 2015)
rng %in% seq(rng_chk)
seq(rng_chk)
seq_along(rng_chk)
seq_along(from = rng_chk[[1]], to = rng_chk[[2]])
seq(from = rng_chk[[1]], to = rng_chk[[2]])
rng %in% seq(from = rng_chk[[1]], to = rng_chk[[2]])
?seq
rng_chk <- c(2010, 2011)
rng %in% seq(from = rng_chk[[1]], to = rng_chk[[2]])
seq(from = rng_chk[[1]], to = rng_chk[[2]])
rng_chk <- c(2010, 2011)
rng_chk <- c(2010, 2016)
seq(from = rng_chk[[1]], to = rng_chk[[2]])
rng %in% seq(from = rng_chk[[1]], to = rng_chk[[2]])
rng <- c(2012, 2015)
rng %in% seq(from = rng_chk[[1]], to = rng_chk[[2]])
rng_chk <- c(2012, 2015)
rng %in% seq(from = rng_chk[[1]], to = rng_chk[[2]])
rng_chk <- c(min(lubridate::year(dat$datetimestamp)), max(lubridate::year(dat$datetimestamp)))
class(rng_chk)
rng %in% seq(from = rng_chk[[1]], to = rng_chk[[2]])
x <- rng %in% seq(from = rng_chk[[1]], to = rng_chk[[2]])
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
param <- 'do_mgl'
try('do_mgl' = param)
try({'do_mgl' = param})
try
x <- try({'do_mgl' = param})
x
x <- try({'nothing' = param})
x
tmp <- expression(atop("Temperature", ( degree~F))
)
tmp
parse(tmp)
tmp <- expression("Temperature", ( degree~F))
tmp
parse(tmp)
data(apacpnut)
dat_nut <- apacpnut
dat_nut <- qaqc(apacpnut, qaqc_keep( 0, 3, 5))
dat_nut <- swmpr::qaqc(apacpnut, qaqc_keep(0, 3, 5))
library(SWMPr)
dat_nut <- SWMPr::qaqc(apacpnut, qaqc_keep(0, 3, 5))
dat_nut <- SWMPr::qaqc(apacpnut, qaqc_keep = c(0, 3, 5))
wq_params <- c('temp', 'spcond', 'sal', 'do_pct', 'do_mgl'
, 'depth', 'cdepth', 'level', 'clevel'
, 'ph', 'turb', 'chlfluor')
met_params <- c('atemp', 'rh', 'bp', 'wspd', 'maxwspd'
, 'maxwspdt', 'wdir', 'swdir', 'totpar'
, 'totsorad')
nut_params <- c('po4f', 'nh4f', 'no2f', 'no3f', 'no23f', 'chla_n')
wq_lab <- c('Water Temperature', 'Specific Conductivity', 'Salinity', 'Dissolved Oxygen Saturation', 'Sonde Depth', 'Depth, corrected for Barometric Pressure', 'Sonde Depth', 'Level, corrected for Barometric Pressure', 'pH', 'Turbidty', 'Chlorophyll Fluorescence'
met_lab <- c('Air Temperature', 'Relative Humidity', 'Barometric Pressure', 'Wind Speed', 'Maximum Wind Speed', 'Wind Direction', 'Wind Direction Standard Deviation', 'Photosynthetically Active Radiation (PAR)', 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate', 'Ammonium', 'Nitrite', 'Nitrate', 'Nitrite + Nitrate', 'Chlorophyll-a')
wq_lab <- c('Water Temperature', 'Specific Conductivity', 'Salinity', 'Dissolved Oxygen Saturation', 'Sonde Depth', 'Depth, corrected for Barometric Pressure', 'Sonde Depth', 'Level, corrected for Barometric Pressure', 'pH', 'Turbidty', 'Chlorophyll Fluorescence'
met_lab <- c('Air Temperature', 'Relative Humidity', 'Barometric Pressure', 'Wind Speed', 'Maximum Wind Speed', 'Wind Direction', 'Wind Direction Standard Deviation', 'Photosynthetically Active Radiation (PAR)', 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate', 'Ammonium', 'Nitrite', 'Nitrate', 'Nitrite + Nitrate', 'Chlorophyll-a')
# Tack on a unit
if(converted){
#potentially converted parameters
##WQ: level, clevel, depth, cdepth, temp
##MET: atemp, totprcp
} else {
}
return(y_lab)
}
wq_lab <- c('Water Temperature', 'Specific Conductivity', 'Salinity', 'Dissolved Oxygen Saturation', 'Sonde Depth', 'Depth, corrected for Barometric Pressure', 'Sonde Depth', 'Level, corrected for Barometric Pressure', 'pH', 'Turbidty', 'Chlorophyll Fluorescence'
met_lab <- c('Air Temperature', 'Relative Humidity', 'Barometric Pressure', 'Wind Speed', 'Maximum Wind Speed', 'Wind Direction', 'Wind Direction Standard Deviation', 'Photosynthetically Active Radiation (PAR)', 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate', 'Ammonium', 'Nitrite', 'Nitrate', 'Nitrite + Nitrate', 'Chlorophyll-a')
# Tack on a unit
if(converted){
#potentially converted parameters
##WQ: level, clevel, depth, cdepth, temp
##MET: atemp, totprcp
} else {
}
return(y_lab)
}
wq_lab <- c('Water Temperature', 'Specific Conductivity', 'Salinity', 'Dissolved Oxygen Saturation', 'Sonde Depth', 'Depth, corrected for Barometric Pressure', 'Sonde Depth', 'Level, corrected for Barometric Pressure', 'pH', 'Turbidty', 'Chlorophyll Fluorescence')
met_lab <- c('Air Temperature', 'Relative Humidity', 'Barometric Pressure', 'Wind Speed', 'Maximum Wind Speed', 'Wind Direction', 'Wind Direction Standard Deviation', 'Photosynthetically Active Radiation (PAR)', 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate', 'Ammonium', 'Nitrite', 'Nitrate', 'Nitrite + Nitrate', 'Chlorophyll-a')
wq_params <- c('temp', 'spcond', 'sal', 'do_pct', 'do_mgl'
, 'depth', 'cdepth', 'level', 'clevel'
, 'ph', 'turb', 'chlfluor')
met_params <- c('atemp', 'rh', 'bp', 'wspd', 'maxwspd'
, 'maxwspdt', 'wdir', 'swdir', 'totpar'
, 'totsorad')
nut_params <- c('po4f', 'nh4f', 'no2f', 'no3f', 'no23f', 'chla_n')
# Parameter labels
wq_lab <- c('Water Temperature', 'Specific Conductivity', 'Salinity', 'Dissolved Oxygen Saturation', 'Dissolved Oxygen', 'Sonde Depth', 'Depth, corrected for Barometric Pressure', 'Sonde Depth', 'Level, corrected for Barometric Pressure', 'pH', 'Turbidty', 'Chlorophyll Fluorescence')
met_lab <- c('Air Temperature', 'Relative Humidity', 'Barometric Pressure', 'Wind Speed', 'Maximum Wind Speed', 'Wind Direction', 'Wind Direction Standard Deviation', 'Photosynthetically Active Radiation (PAR)', 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate', 'Ammonium', 'Nitrite', 'Nitrate', 'Nitrite + Nitrate', 'Chlorophyll-a')
param_df <- data.frame(param = c(wq_params, met_params, nut_params), wq_lab, met_lab, nut_lab)
param_df <- data.frame(param = c(wq_params, met_params, nut_params), labels = c(wq_lab, met_lab, nut_lab))
View(param_df)
wq_units <- c(expression('(', (degree~C)), '(mS/cm)', '(psu)', '(%)', '(mg/L)', '(m)', '(m)', '(m)', '(m)', '(su)', '(NTU)', expression('(', mu ~ 'g/L)')
met_units <- c(expression('(', (degree~C)), 'Relative Humidity', 'Barometric Pressure', 'Wind Speed', 'Maximum Wind Speed', 'Wind Direction', 'Wind Direction Standard Deviation', 'Photosynthetically Active Radiation (PAR)', 'Precipitiation', 'Total Solar Radiation')
nut_units <- c('Orthophosphate', 'Ammonium', 'Nitrite', 'Nitrate', 'Nitrite + Nitrate', 'Chlorophyll-a')
param_df <- data.frame(param = c(wq_params, met_params, nut_params), labels = c(wq_lab, met_lab, nut_lab))
param_df
# Tack on a unit
if(converted){
#potentially converted parameters
##WQ: level, clevel, depth, cdepth, temp
##MET: atemp, totprcp
} else {
}
return(y_lab)
}
wq_units <- c(expression('(', (degree~C)), '(mS/cm)', '(psu)', '(%)', '(mg/L)', '(m)', '(m)', '(m)', '(m)', '(su)', '(NTU)', expression('(', mu ~ 'g/L)'))
wq_units <- c(expression('(', (degree~C)), '(mS/cm)', '(psu)', '(%)', '(mg/L)', '(m)', '(m)', '(m)', '(m)', '(su)', '(NTU)', expression('(', mu ~ 'g/L)'))
met_units <- c(expression('(', (degree~C)), '(%)', '(mbar)', 'Wind Speed', 'Maximum Wind Speed', 'Wind Direction', 'Wind Direction Standard Deviation', 'Photosynthetically Active Radiation (PAR)', 'Precipitiation', 'Total Solar Radiation')
nut_units <- c(rep((mg/L), 5),  expression('(', mu ~ 'g/L)'))
wq_units <- c(expression('(', (degree~C), ')'), '(mS/cm)', '(psu)', '(%)', '(mg/L)', '(m)', '(m)', '(m)', '(m)', '(su)', '(NTU)', expression('(', mu ~ 'g/L)'))
wq_units <- c('expression('(', (degree~C), ')')', '(mS/cm)', '(psu)', '(%)', '(mg/L)', '(m)', '(m)', '(m)', '(m)', '(su)', '(NTU)', expression('(', mu ~ 'g/L)'))
nut_units <- c(rep((mg/L), 5),  expression('(', mu ~ 'g/L)'))
nut_units <- c(rep(('mg/L'), 5),  expression('(', mu ~ 'g/L)'))
wq_units
wq_units <- c("expression('(', (degree~C), ')')", '(mS/cm)', '(psu)', '(%)', '(mg/L)', '(m)', '(m)', '(m)', '(m)', '(su)', '(NTU)', expression('(', mu ~ 'g/L)'))
wq_units <- c(paste(expression('(', (degree~C), ')')), '(mS/cm)', '(psu)', '(%)', '(mg/L)', '(m)', '(m)', '(m)', '(m)', '(su)', '(NTU)', expression('(', mu ~ 'g/L)'))
wq_units <- c(paste('(', (degree~C), ')'), '(mS/cm)', '(psu)', '(%)', '(mg/L)', '(m)', '(m)', '(m)', '(m)', '(su)', '(NTU)', expression('(', mu ~ 'g/L)'))
wq_units
wq_units <- c(paste('(', (degree~C), ')', sep = ''), '(mS/cm)', '(psu)', '(%)', '(mg/L)', '(m)', '(m)', '(m)', '(m)', '(su)', '(NTU)', expression('(', mu ~ 'g/L)'))
wq_units <- c(''(', (degree~C), ')'', '(mS/cm)', '(psu)', '(%)'
, '(mg/L)', '(m)', '(m)', '(m)')
y
wq_lab <- c('Water Temperature (~degree~C)', 'Specific Conductivity', 'Salinity', 'Dissolved Oxygen Saturation'
, 'Dissolved Oxygen', 'Sonde Depth', 'Depth, Corrected for Barometric Pressure', 'Sonde Depth'
, 'Level, corrected for Barometric Pressure', 'pH', 'Turbidity', 'Chlorophyll Fluorescence')
y + labs(y = label_parsed(wq_lab[1]))
# Parameter labels
wq_lab <- c('Water Temperature (*~degree~C)', 'Specific Conductivity', 'Salinity', 'Dissolved Oxygen Saturation'
, 'Dissolved Oxygen', 'Sonde Depth', 'Depth, Corrected for Barometric Pressure', 'Sonde Depth'
, 'Level, corrected for Barometric Pressure', 'pH', 'Turbidity', 'Chlorophyll Fluorescence')
y + labs(y = label_parsed(wq_lab[1]))
wq_nm <- str_c('(', (degree~C), ')')
library(stringr)
wq_nm <- str_c('(', (degree~C), ')')
y + labs(y = eval(parse(wq_nm)))
eval(parse(wq_nm))
y + labs(y = parse(wq_nm))
wq_nm
wq_nm <- stringr::str_c(' (', (degree~C), ')')
wq_nm <- stringr::str_c((degree~C))
y + labs(y = parse(wq_nm))
y + labs(y = eval(parse(wq_nm)))
y + labs(y = expression(parse(wq_nm)))
y + labs(y = expression(eval(parse(wq_nm))))
wq_nm
y + labs(y = expression(wq_nm))
y + labs(y = expression(paste(wq_nm)))
?plotmath
wq_nm <- stringr::str_c(paste('(', (degree~C), ')'))
wq_nm <- stringr::str_c(paste('(', degree~, 'C)'))
wq_nm <- stringr::str_c(paste('(', degree~, 'C)', sep = ''))
wq_nm <- stringr::str_c(paste('(', degree~ 'C)', sep = ''))
y + labs(y = wq_nm, parse = T)
y + labs(y = eval(wq_nm), parse = T)
y + labs(y = expression(wq_nm), parse = T)
wq_nm <- quote(paste('(', degree~ 'C)', sep = ''))
y + labs(y = eval(wq_nm), parse = T)
wq_nm <- quote(expression(paste("Sampled values, ", mu, "=5, ", sigma,"=1")))
y + labs(y = eval(wq_nm), parse = T)
wq_nm <- quote(expression(paste("Chlorophyll-a ", mu, "g/L")))
y + labs(y = eval(wq_nm), parse = T)
wq_nm <- quote(expression(paste("Chlorophyll-a (", ~mu, "g/L")))
y + labs(y = eval(wq_nm), parse = T)
wq_nm <- quote(expression(paste("Chlorophyll-a (", ~mu, "g/L)")))
y + labs(y = eval(wq_nm), parse = T)
wq_nm <- quote(expression(paste("Chlorophyll-a (", *mu, "g/L)")))
wq_nm <- quote(expression(paste("Chlorophyll-a (", *mu, "g/L)")))
wq_nm <- quote(expression(paste("Chlorophyll-a (", ~~mu, "g/L)")))
y + labs(y = eval(wq_nm), parse = T)
wq_units <- c(quote(expression('(', (degree~C), ')')), '(mS/cm)', '(psu)', '(%)'
, '(mg/L)', '(m)', '(m)', '(m)'
, '(m)', '(su)', '(NTU)', quote(expression('(', mu ~ 'g/L)')))
wq_nm <- c('Nutrient x')
y + labs(y = eval(wq_nm), parse = T)
wq_nm <- quote(expression(paste("Water Temperature (", ~degree, "C)")))
y + labs(y = eval(wq_nm), parse = T)
# Parameter abbreviations
wq_params <- c('temp', 'spcond', 'sal', 'do_pct', 'do_mgl'
, 'depth', 'cdepth', 'level', 'clevel'
, 'ph', 'turb', 'chlfluor')
met_params <- c('atemp', 'rh', 'bp', 'wspd', 'maxwspd'
, 'maxwspdt', 'wdir', 'swdir', 'totpar'
, 'totsorad')
nut_params <- c('po4f', 'nh4f', 'no2f', 'no3f', 'no23f', 'chla_n')
# Parameter labels
wq_lab <- c(quote(expression(paste('Water Temperature (', ~degree, 'C)'))), 'Specific Conductivity (mS/cm)', 'Salinity (psu)', 'Dissolved Oxygen Saturation (%)'
, 'Dissolved Oxygen (mg/L)', 'Sonde Depth (m)', 'Depth, Corrected for Barometric Pressure (m)', 'Sonde Depth (m)'
, 'Level, corrected for Barometric Pressure (m)', 'pH (su)', 'Turbidity (NTU)', quote(expression(paste('Chlorophyll Fluorescence (', ~mu, 'g/L)'))))
met_lab <- c(quote(expression(paste('Air Temperature (', ~degree, 'C)'))), 'Relative Humidity (%)', 'Barometric Pressure', 'Wind Speed (m/s)'
, 'Maximum Wind Speed', 'Wind Direction', 'Wind Direction Standard Deviation'
, 'Photosynthetically Active Radiation (PAR)', 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate (mg/L)', 'Ammonium (mg/L)', 'Nitrite (mg/L)', 'Nitrate  (mg/L)', 'Nitrite + Nitrate  (mg/L)', quote(expression(paste('Chlorophyll-a (', ~mu, 'g/L)'))))
wq_nm <- quote(expression(paste("Chlorophyll-a (", ~mu, "g/L)")))
wq_nm <- c('Nutrient x')
wq_nm <- quote(expression(paste("Water Temperature (", ~degree, "C)")))
param_df <- data.frame(param = c(wq_params, met_params, nut_params), labels = c(wq_lab, met_lab, nut_lab))
?match
'do_mgl' %in% wq_params
?index
index('do_mgl', wq_params)
index('dtemp', wq_params)
index('temp', wq_params)
match('do_mgl', wq_params)
wq_lab[5]
names(wq_lab)
names(wq_lab) <- wq_params
head(wq_lab)
match('do_mgl', wq_params)
match('do_mgl', wq_lab)
wq_lab['do_mgl']
wq_lab['temp']
y + labs(y = eval(wq_lab['temp']), parse = T)
wq_lab[['temp']]
y + labs(y = eval(wq_lab[['temp']]), parse = T)
labs <- c(wq_lab, met_lab, nut_lab)
params <- c(wq_params, met_params, nut_params)
names(lab) <- params
wq_lab <- c(quote(expression(paste('Water Temperature (', ~degree, 'C)'))), 'Specific Conductivity (mS/cm)', 'Salinity (psu)', 'Dissolved Oxygen Saturation (%)'
, 'Dissolved Oxygen (mg/L)', 'Sonde Depth (m)', 'Depth, Corrected for Barometric Pressure (m)', 'Sonde Depth (m)'
, 'Level, corrected for Barometric Pressure (m)', 'pH (su)', 'Turbidity (NTU)', quote(expression(paste('Chlorophyll Fluorescence (', ~mu, 'g/L)'))))
met_lab <- c(quote(expression(paste('Air Temperature (', ~degree, 'C)'))), 'Relative Humidity (%)', 'Barometric Pressure', 'Wind Speed (m/s)'
, 'Maximum Wind Speed (m/s)', 'Wind Direction', 'Wind Direction Standard Deviation (sd)'
, quote(expression(paste('Photosynthetically Active Radiation (mmol/m', ~-2))), 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate (mg/L)', 'Ammonium (mg/L)', 'Nitrite (mg/L)', 'Nitrate  (mg/L)', 'Nitrite + Nitrate  (mg/L)', quote(expression(paste('Chlorophyll-a (', ~mu, 'g/L)'))))
all_params <- c(wq_params, met_params, nut_params)
labs <- c(wq_lab, met_lab, nut_lab)
names(labs) <- all_params
labs[['totpar']]
labs
met_params <- c('atemp', 'rh', 'bp', 'wspd', 'maxwspd'
, 'maxwspdt', 'wdir', 'swdir', 'totpar'
, 'totprcp', 'totsorad')
met_lab <- c(quote(expression(paste('Air Temperature (', ~degree, 'C)'))), 'Relative Humidity (%)', 'Barometric Pressure', 'Wind Speed (m/s)'
, 'Maximum Wind Speed (m/s)', 'Wind Direction', 'Wind Direction Standard Deviation (sd)'
, quote(expression(paste('Photosynthetically Active Radiation (mmol/m', ~-2))), 'Precipitiation', 'Total Solar Radiation')
met_lab <- c(quote(expression(paste('Air Temperature (', ~degree, 'C)'))), 'Relative Humidity (%)', 'Barometric Pressure', 'Wind Speed (m/s)'
, 'Maximum Wind Speed (m/s)', 'Maximum Time of Wind Speed Measurement (hh:mm)', 'Wind Direction', 'Wind Direction Standard Deviation (sd)'
, quote(expression(paste('Photosynthetically Active Radiation (mmol/m', ~-2))), 'Precipitiation', 'Total Solar Radiation')
wq_params <- c('temp', 'spcond', 'sal', 'do_pct', 'do_mgl'
, 'depth', 'cdepth', 'level', 'clevel'
, 'ph', 'turb', 'chlfluor')
met_params <- c('atemp', 'rh', 'bp', 'wspd', 'maxwspd'
, 'maxwspdt', 'wdir', 'swdir', 'totpar'
, 'totprcp', 'totsorad')
nut_params <- c('po4f', 'nh4f', 'no2f', 'no3f', 'no23f', 'chla_n')
# Parameter labels
wq_lab <- c(quote(expression(paste('Water Temperature (', ~degree, 'C)'))), 'Specific Conductivity (mS/cm)', 'Salinity (psu)', 'Dissolved Oxygen Saturation (%)'
, 'Dissolved Oxygen (mg/L)', 'Sonde Depth (m)', 'Depth, Corrected for Barometric Pressure (m)', 'Sonde Depth (m)'
, 'Level, corrected for Barometric Pressure (m)', 'pH (su)', 'Turbidity (NTU)', quote(expression(paste('Chlorophyll Fluorescence (', ~mu, 'g/L)'))))
met_lab <- c(quote(expression(paste('Air Temperature (', ~degree, 'C)'))), 'Relative Humidity (%)', 'Barometric Pressure', 'Wind Speed (m/s)'
, 'Maximum Wind Speed (m/s)', 'Maximum Time of Wind Speed Measurement (hh:mm)', 'Wind Direction', 'Wind Direction Standard Deviation (sd)'
, quote(expression(paste('Photosynthetically Active Radiation (mmol/m', ~-2))), 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate (mg/L)', 'Ammonium (mg/L)', 'Nitrite (mg/L)', 'Nitrate  (mg/L)', 'Nitrite + Nitrate  (mg/L)', quote(expression(paste('Chlorophyll-a (', ~mu, 'g/L)'))))
all_params <- c(wq_params, met_params, nut_params)
labs <- c(wq_lab, met_lab, nut_lab)
names(labs) <- all_params
labs[['totsorad']]
labs[['totpar']]
y+labs(y = labs[['totpar']])
# Parameter labels
wq_lab <- c(quote(expression(paste('Water Temperature (', ~degree, 'C)'))), 'Specific Conductivity (mS/cm)', 'Salinity (psu)', 'Dissolved Oxygen Saturation (%)'
, 'Dissolved Oxygen (mg/L)', 'Sonde Depth (m)', 'Depth, Corrected for Barometric Pressure (m)', 'Sonde Depth (m)'
, 'Level, corrected for Barometric Pressure (m)', 'pH (su)', 'Turbidity (NTU)', quote(expression(paste('Chlorophyll Fluorescence (', ~mu, 'g/L)'))))
met_lab <- c(quote(expression(paste('Air Temperature (', ~degree, 'C)'))), 'Relative Humidity (%)', 'Barometric Pressure', 'Wind Speed (m/s)'
, 'Maximum Wind Speed (m/s)', 'Maximum Time of Wind Speed Measurement (hh:mm)', 'Wind Direction', 'Wind Direction Standard Deviation (sd)'
, quote(expression(paste('Photosynthetically Active Radiation (mmol/m', ~2))), 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate (mg/L)', 'Ammonium (mg/L)', 'Nitrite (mg/L)', 'Nitrate  (mg/L)', 'Nitrite + Nitrate  (mg/L)', quote(expression(paste('Chlorophyll-a (', ~mu, 'g/L)'))))
all_params <- c(wq_params, met_params, nut_params)
labs <- c(wq_lab, met_lab, nut_lab)
names(labs) <- all_params
y+labs(y = labs[['totpar']])
# Parameter labels
wq_lab <- c(quote(expression(paste('Water Temperature (', ~degree, 'C)'))), 'Specific Conductivity (mS/cm)', 'Salinity (psu)', 'Dissolved Oxygen Saturation (%)'
, 'Dissolved Oxygen (mg/L)', 'Sonde Depth (m)', 'Depth, Corrected for Barometric Pressure (m)', 'Sonde Depth (m)'
, 'Level, corrected for Barometric Pressure (m)', 'pH (su)', 'Turbidity (NTU)', quote(expression(paste('Chlorophyll Fluorescence (', ~mu, 'g/L)'))))
met_lab <- c(quote(expression(paste('Air Temperature (', ~degree, 'C)'))), 'Relative Humidity (%)', 'Barometric Pressure', 'Wind Speed (m/s)'
, 'Maximum Wind Speed (m/s)', 'Maximum Time of Wind Speed Measurement (hh:mm)', 'Wind Direction', 'Wind Direction Standard Deviation (sd)'
, quote(expression(paste('Photosynthetically Active Radiation (mmol/m', ~^2))), 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate (mg/L)', 'Ammonium (mg/L)', 'Nitrite (mg/L)', 'Nitrate  (mg/L)', 'Nitrite + Nitrate  (mg/L)', quote(expression(paste('Chlorophyll-a (', ~mu, 'g/L)'))))
all_params <- c(wq_params, met_params, nut_params)
labs <- c(wq_lab, met_lab, nut_lab)
names(labs) <- all_params
wq_lab <- c(quote(expression(paste('Water Temperature (', ~degree, 'C)'))), 'Specific Conductivity (mS/cm)', 'Salinity (psu)', 'Dissolved Oxygen Saturation (%)'
, 'Dissolved Oxygen (mg/L)', 'Sonde Depth (m)', 'Depth, Corrected for Barometric Pressure (m)', 'Sonde Depth (m)'
, 'Level, corrected for Barometric Pressure (m)', 'pH (su)', 'Turbidity (NTU)', quote(expression(paste('Chlorophyll Fluorescence (', ~mu, 'g/L)'))))
met_lab <- c(quote(expression(paste('Air Temperature (', ~degree, 'C)'))), 'Relative Humidity (%)', 'Barometric Pressure', 'Wind Speed (m/s)'
, 'Maximum Wind Speed (m/s)', 'Maximum Time of Wind Speed Measurement (hh:mm)', 'Wind Direction', 'Wind Direction Standard Deviation (sd)'
, quote(expression(paste('Photosynthetically Active Radiation (mmol/m', ^2))), 'Precipitiation', 'Total Solar Radiation')
nut_lab <- c('Orthophosphate (mg/L)', 'Ammonium (mg/L)', 'Nitrite (mg/L)', 'Nitrate  (mg/L)', 'Nitrite + Nitrate  (mg/L)', quote(expression(paste('Chlorophyll-a (', ~mu, 'g/L)'))))
all_params <- c(wq_params, met_params, nut_params)
labs <- c(wq_lab, met_lab, nut_lab)
names(labs) <- all_params
met_lab <- c(quote(expression(paste('Air Temperature (', ~degree, 'C)'))), 'Relative Humidity (%)', 'Barometric Pressure', 'Wind Speed (m/s)'
, 'Maximum Wind Speed (m/s)', 'Maximum Time of Wind Speed Measurement (hh:mm)', 'Wind Direction', 'Wind Direction Standard Deviation (sd)'
, quote(expression(paste('Photosynthetically Active Radiation (mmol/'m^2))), 'Precipitiation', 'Total Solar Radiation')
y + labs(y = expression(paste('Photosynthetically Active Radiation (mmol/'m^2)))
y + labs(y = expression ("Acceleration in"~m/s^2))
y + labs(y = expression(paste('Photosynthetically Active Radiation (mmol/'~m^2)))
y + labs(y = expression(paste('Photosynthetically Active Radiation (mmol/'~m^2, ')')))
y + labs(y = expression(paste('Photosynthetically Active Radiation (mmol/'~~m^2, ')')))
y + labs(y = expression(paste('Photosynthetically Active Radiation (mmol/'*m^2, ')')))
y + labs(y = expression(paste('Photosynthetically Active Radiation (mmol/ '~m^2, ')')))
converted_param <- c('temp', 'depth', 'cdepth', 'level', 'clevel'
, 'atemp', 'wspd', 'maxwspd', 'totprcp')
converted_lab <- c(quote(expression(paste('Water Temperature (', ~degree, 'F)'))), 'Sonde Depth (ft)', 'Depth, Corrected for Barometric Pressure (ft)', 'Sonde Depth (ft)'
, 'Level, corrected for Barometric Pressure (ft)', quote(expression(paste('Air Temperature (', ~degree, 'F)'))), 'Wind Speed (ft/s)'
, 'Maximum Wind Speed (ft/s)','Precipitiation (in)')
names(converted_labs) <- converted_param
converted_param <- c('temp', 'depth', 'cdepth', 'level', 'clevel'
, 'atemp', 'wspd', 'maxwspd', 'totprcp')
converted_labs <- c(quote(expression(paste('Water Temperature (', ~degree, 'F)'))), 'Sonde Depth (ft)', 'Depth, Corrected for Barometric Pressure (ft)', 'Sonde Depth (ft)'
, 'Level, corrected for Barometric Pressure (ft)', quote(expression(paste('Air Temperature (', ~degree, 'F)'))), 'Wind Speed (ft/s)'
, 'Maximum Wind Speed (ft/s)','Precipitiation (in)')
names(converted_labs) <- converted_param
converted_labs[['totprcp']]
devtools::document()
devtools::document()
devtools::document()
devtools::load_all(".")
library(SWMPr)
data(apacpwq)
dat <- apacpwq
dat <- qaqc(dat, qaqc_keep = c(0, 3, 5))
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
x
x2 <-
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
x2
source('C:/Users/Julie/Desktop/SWMPrExtension/R/historical_daily_range.R', echo=TRUE)
devtools::load_all(".")
x2 <-
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
library(rlang)
x2 <-
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
devtools::load_all(".")
x <-
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
devtools::load_all(".")
x2 <-
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
library(lubridate)
x2 <-
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
x2
x2 <-
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2, convert = T)
x2
?y_labeler
devtools::document()
?labs
?stat_locs
x <- stat_locs
View(x)
?get
dat_sta <- read.csv(file = 'data/sampling_stations.csv', header = T)
View(dat_sta)
?saveRDS
save(dat_sta, file = 'data/sampling_stations.RData')
dat_locs <- get('sampling_stations')
dat_locs <- dat_sta
chk <- get('stat_locs')
devtools::load_all(".")
dat_locs <- get('sampling_stations')
?get
dat_locs$Station.Code <- as.character(dat_locs$Station.Code)
dat_locs$Station.Name <- as.character(dat_locs$Station.Name)
nerr_site_id <- 'acebbwq'
x <- dat-locs[station.Name == nerr_site_id]
x <- dat_locs[station.Name == nerr_site_id]
x <- dat_locs[dat_locs$station.Name == nerr_site_id, ]
x <- dat_locs[ , dat_locs$station.Name == nerr_site_id]
nerr_site_id
x <- dat_locs[dat_locs$station.Name == nerr_site_id]
x <- dat_locs[dat_locs$station.Name == nerr_site_id, ]
View(x)
x <- dat_locs[dat_locs$NERR.Site.ID == nerr_site_id, ]
x <- dat_locs[dat_locs$NERR.Site.ID == nerr_site_id, ]
nerr_site_id
dat_locs$NERR.Site.ID
dat_locs$NERR.Site.ID <- as.character(dat_locs$NERR.Site.ID)
x <- dat_locs[dat_locs$NERR.Site.ID == nerr_site_id, ]
x <- dat_locs[dat_locs$Station.Code == nerr_site_id, ]
x <- dat_locs[dat_locs$Station.Code == nerr_site_id, ]
dat_locs$Station.Code
dat_locs$Station.Code <- trimws(dat_locs$Station_Code)
?trimws
dat_locs$Station.Code <- trimws(dat_locs$Station.Code)
x <- dat_locs[dat_locs$Station.Code == nerr_site_id, ]
x <- dat_locs[dat_locs$Station.Code == nerr_site_id, ]$Station.Name
dat_locs[, c(2:4)] <- trimws(dat_locs[, c(2:4)])
dat_locs$Station.Code <- trimws(dat_locs$Station.Code)
dat_locs <- dat_sta
abbrev <- substr(nerr_site_id, 6, nchar(nerr_site_id))
abbrev <- substr(nerr_site_id, 4, 5)
ttl <- dat_locs[dat_locs$Station.Code == nerr_site_id, ]$Station.Name
devtools::load_all(".")
devtools::load_all(".")
x2 <-
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013), target_yr = 2013, criteria = 2)
x2
x2 <-
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = T)
devtools::document()
devtools::load_all(".")
x2 <-
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = T)
?historical_daily_range
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = T)
station <- 'acebbnut'
ttl <- title_labeler(nerr_site_id = station)
data('SWMPr')
data(package = 'SWMPr')
dat(package = 'SWMPrExtension')
dats(package = 'SWMPrExtension')
data(package = 'SWMPrExtension')
devtools::document()
dat_locs <- data(sampling_stations)#get('sampling_stations')
devtools::load_all(".")
dat_locs <- data(sampling_stations)#get('sampling_stations')
?data
?use_data
?get
devtools::load_all(".")
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = T)
devtools::load_all(".")
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = T)
devtools::load_all(".")
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = T)
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = T)
devtools::load_all(".")
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = T)
devtools::load_all(".")
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = T)
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = F)
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2)
devtools::load_all(".")
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2)
devtools::load_all(".")
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2)
historical_daily_range(dat, param = 'temp', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2)
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2)
historical_daily_range(dat, param = 'do_mgl', hist_rng = c(2012, 2013)
, target_yr = 2013, criteria = 2, plot_title = F)
